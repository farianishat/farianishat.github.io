<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FNK</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="./assets/img/favicon.png">
    <link href="./assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="./assets/css/style.css" rel="stylesheet" />
    <link href="./assets/fontawesome/css/fontawesome.css" rel="stylesheet" />
    <link href="./assets/fontawesome/css/brands.css" rel="stylesheet" />
    <link href="./assets/fontawesome/css/solid.css" rel="stylesheet" />
</head>
<style>
    iframe {
        overflow: hidden !important; /* Disable scrolling inside the iframe */
        border: none; /* Optional: Remove border */
        height: 100vh;
    }
</style>
<body>
<!-- Preloader -->
<div class="preloader-container" id="preloader">
    <div class="loader"></div>
</div>

<header>
    <nav class="navbar navbar-expand-lg bg-white fixed-top">
        <div class="container">
            <a class="navbar-brand" href=""></a>
            <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarScroll"
                aria-controls="navbarScroll"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarScroll">
                <ul class="navbar-nav ms-auto my-2 my-lg-0 navbar-nav-scroll">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="research.html">Research</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="cv.html">CV</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="teaching-dossier.html">Teaching Dossier</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="extra-curricular.html">Extra Curricular</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="progress-container">
        <div class="progress-bar" id="progress"></div>
    </div>
</header>

<div class="" style="overflow-x: hidden">
    <iframe
            class="pdf"
            id="pdf-iframe"
    >
    </iframe>
</div>

<a
    href="https://raw.githubusercontent.com/farianishat/farianishat.github.com/main/assets/files/Faria_Extracurricular_Optimized.pdf"
    class="text-decoration-none text-white"
    download="Extracurricular_of_Faria_Nishat_Khan"
>
    <button class="btn btn-success position-fixed text-white py-2 px-3" style="bottom: 20px; left: 20px;">
        Download
    </button>
</a>

<!-- JavaScript to handle preloader -->
<script>
    let fallbackTimeout;
    let preloaderHidden = false; // Flag to track preloader visibility
    const pdfUrl = './assets/files/Faria_Extracurricular_Optimized.pdf'; // PDF URL
  
    // Function to hide the preloader
    function hidePreloader() {
      if (!preloaderHidden) {
        const preloader = document.getElementById('preloader');
        preloader.style.display = 'none';
        preloaderHidden = true; // Set flag to true to prevent multiple hides
        console.log('Preloader hidden');
      }
  
      // Clear fallback timeout to prevent double hiding
      if (fallbackTimeout) {
        clearTimeout(fallbackTimeout);
        console.log('Fallback timeout cleared');
      }
    }
  
    // Use DOMContentLoaded to ensure the DOM is fully loaded before accessing the iframe
    document.addEventListener('DOMContentLoaded', function () {
      const iframe = document.getElementById('pdf-iframe');
  
      // Check if the PDF exists before loading into the iframe
      fetch(pdfUrl)
              .then(response => {
                if (response.ok) {
                  console.log(response.ok)
                  console.log('PDF is available');
                  // Set iframe src only if PDF is available
                  iframe.src = pdfUrl;
                } else {
                  console.log('PDF failed to load:', response.status);
                  // Handle failure (e.g., display a message)
                }
              })
              .catch(error => {
                console.log('Error fetching the PDF:', error);
                // Handle network or other errors
              });
  
      // Listen for the iframe's load event
      iframe.addEventListener('load', function() {
        console.log('Iframe loaded');
        // Once the iframe reports that it has loaded, hide the preloader
        hidePreloader();
      });
  
      // Fallback: Hide the preloader after a delay in case the load event doesn't fire
      fallbackTimeout = setTimeout(function() {
        console.log('Fallback triggered: hiding preloader after 1 second');
        hidePreloader();
      }, 1000);  // Timeout set to 1000 milliseconds (1 second)
    });
  </script>

<script src="./assets/js/bootstrap.bundle.min.js"></script>

</body>
</html>
